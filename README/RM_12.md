---
title: R3Fì˜ shadow
description: shadow ëŒ€í•œ ì„¤ëª… ë° ì‹¤ìŠµì…ë‹ˆë‹¤.
date: 2023-11-02T03:56:42.872Z
preview: https://i.ytimg.com/vi/VSx4jGQT5HI/maxresdefault.jpg
draft: false
tags:
    - R3F
categories:
    - R3F
---

## ğŸ“ ê°•ì˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤

> R3F ì—ëŒ€í•œ ê°•ì˜ë¡œ 3D ì›¹ ê°œë°œì— ëŒ€í•˜ì—¬ ì…ë¬¸ê³¼ì •ì„ ì•Œë ¤ì¤€ë‹¤

[![image](https://i.ytimg.com/vi/VSx4jGQT5HI/maxresdefault.jpg)](https://www.youtube.com/watch?v=Sg6OcVxe64k&list=PLe6NQuuFBu7HUeJkowKRkLWwkdOlhwrje&index=12)

## ğŸ“” Core

### ğŸ“ Camera

ì¹´ë©”ë¼ì˜ íŠ¹ì„±ì„ ê°€ì§„ Object3D ì´ë‹¤.

ì¹´ë©”ë¼ì˜ ì¢…ë¥˜ì— ë”°ë¼ í™”ë©´ì— ë¹„ì¶”ëŠ”ê²Œ ë‹¬ë¼ì§„ë‹¤

> [!WARNING]  
> Three js ëŠ” ì§€ì†ì ì¸ ì—…ë°ì´íŠ¸ ì¤‘ìœ¼ë¡œ í•´ë‹¹ ì‚¬í•­ì´ ë³€í•  ìˆ˜ ìˆë‹¤  
> ì‘ì„±ì¼ : 2023.10.30

#### ğŸ Code(Camera)

```js
import { Matrix4 } from '../math/Matrix4.js';
import { Vector2 } from '../math/Vector2.js';
import { Vector3 } from '../math/Vector3.js';
import { Vector4 } from '../math/Vector4.js';
import { Frustum } from '../math/Frustum.js';

const _projScreenMatrix = /*@__PURE__*/ new Matrix4();
const _lightPositionWorld = /*@__PURE__*/ new Vector3();
const _lookTarget = /*@__PURE__*/ new Vector3();

class LightShadow {
    constructor( camera ) {
        this.camera = camera;
        this.bias = 0;
        this.normalBias = 0;
        this.radius = 1;
        this.blurSamples = 8;
        this.mapSize = new Vector2( 512, 512 );
        this.map = null;
        this.mapPass = null;
        this.matrix = new Matrix4();
        this.autoUpdate = true;
        this.needsUpdate = false;
        this._frustum = new Frustum();
        this._frameExtents = new Vector2( 1, 1 );
        this._viewportCount = 1;
        this._viewports = [
            new Vector4( 0, 0, 1, 1 )
        ];
    }

    getViewportCount() { }

    getFrustum() { }

    updateMatrices( light ) { }

    getViewport( viewportIndex ) { }

    getFrameExtents() { }

    dispose() { }

    copy( source ) { }

    clone() { }

    toJSON() { }
}

export { LightShadow };
```

#### âœ¨ Constructor(LightShadow)

| Parameter | Type | Note |
| :-- | :-- | :-- |
| camera | Camera | ë¹›ì— ëŒ€í•œ ì¹´ë©”ë¼ ê°’ |

#### ğŸ© Properties(LightShadow)

| Property | Type | Note |
| :-- | :-- | :-- |
| autoUpdate | Boolean | ë¹›ì˜ ê·¸ë¦¼ìë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ trueì…ë‹ˆë‹¤. ë™ì  ì¡°ëª… ë˜ëŠ” ê·¸ë¦¼ìê°€ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš° falseë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |
| camera | Camera | world ì¢Œí‘œì— ëŒ€í•œ ë¹›ì˜ ì¹´ë©”ë¼ íŠ¹ì„±ì…ë‹ˆë‹¤. ì´ëŠ” ì¥ë©´ì˜ ê¹Šì´ ë§µì„ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë¹›ì˜ ê´€ì ì—ì„œ ë³¼ ë•Œ ë‹¤ë¥¸ ë¬¼ì²´ ë’¤ì— ìˆëŠ” ë¬¼ì²´ëŠ” ê·¸ë¦¼ìì— ìˆê²Œ ë©ë‹ˆë‹¤. |
| bias | Float | ê·¸ë¦¼ì í”½ì…€ í¬ê¸°, ì–´ëŠ í¬ê¸°ë¡œ ê·¸ë¦¼ìì˜ í”½ì…€ì„ ê·¸ë ¤ì¤„ì§€ ì„¤ì •í•˜ëŠ” ê²ƒ. ê¸°ë³¸ê°’ì€ 0ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ì•„ì£¼ ì‘ì€ ì¡°ì •(0.0001 ì •ë„)ì€ ê·¸ë¦¼ìì˜ ì•„í‹°íŒ©íŠ¸ë¥¼ ì¤„ì´ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |
| blurSamples | Integer | VSM ì„€ë„ìš° ë§µì„ ì–¼ë§ˆë‚˜ íë¦¬ê²Œ í• ì§€ì˜ ê°’ ì…ë‹ˆë‹¤. |
| map | WebGLRenderTarget | ë‚´ë¶€ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±ëœ ê¹Šì´ ë§µ??. í”½ì…€ ê¹Šì´ë¥¼ ë„˜ì–´ì„œëŠ” ìœ„ì¹˜ëŠ” ê·¸ë¦¼ìì— ìˆìŠµë‹ˆë‹¤. ë Œë”ë§ ì¤‘ì— ë‚´ë¶€ì ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤. |
| mapPass | WebGLRenderTarget | ë‚´ë¶€ ì¹´ë©”ë¼ë¥¼ ì´ìš©í•˜ì—¬ ìƒì„±ëœ ë¶„í¬ë„?? íìƒ‰ì€ ê¹Šì´ ë¶„í¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤. ë Œë”ë§ ì¤‘ì— ë‚´ë¶€ì ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤??. |
| mapSize | Vector2 | ê·¸ë¦¼ì ë§µì˜ ë„ˆë¹„ì™€ ë†’ì´ë¥¼ ì •ì˜í•˜ëŠ” Vector2ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ ( 512, 512 )ì…ë‹ˆë‹¤. |
| matrix | Matrix4 | ê·¸ë¦¼ì ì¹´ë©”ë¼ ê³µê°„ì„ ëª¨ë¸ë§í•˜ê³  ê·¸ë¦¼ì ë§µì˜ ìœ„ì¹˜ì™€ ê¹Šì´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. Matrix4ì— ì €ì¥ë©ë‹ˆë‹¤. ì´ëŠ” ë Œë”ë§ ì¤‘ì— ë‚´ë¶€ì ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤. |
| needsUpdate | Boolean | trueë¡œ ì„¤ì •í•˜ë©´ ë‹¤ìŒ ë Œë”ë§ í˜¸ì¶œì—ì„œ ì„€ë„ìš° ë§µì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ falseì…ë‹ˆë‹¤. |
| normalBias | Float | ê·¸ë¦¼ì ë§µì„ ì¿¼ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ìœ„ì¹˜ê°€ ê°œì²´ ë²•ì„ ì„ ë”°ë¼ ì˜¤í”„ì…‹ë˜ëŠ” ì •ë„ë¥¼ ì •ì˜í•©ë‹ˆë‹¤??. ê¸°ë³¸ê°’ì€ 0ì…ë‹ˆë‹¤.|
| radius | Float | 1ë³´ë‹¤ í° ê°’ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ê·¸ë¦¼ìì˜ ê°€ì¥ìë¦¬ê°€ íë ¤ì§‘ë‹ˆë‹¤. WebGLRenderer.shadowMap.typeì´ PCFSoftShadowMapìœ¼ë¡œ ì„¤ì •ëœ ê²½ìš° ë°˜ê²½ì€ íš¨ê³¼ê°€ ì—†ìœ¼ë©° ëŒ€ì‹  mapSizeë¥¼ ì¤„ì—¬ ë¶€ë“œëŸ¬ì›€ì„ ë†’ì´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. WebGLRenderer.shadowMap.typeì´ BasicShadowMapìœ¼ë¡œ ì„¤ì •ëœ ê²½ìš°ì—ëŠ” ì•„ë¬´ëŸ° íš¨ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. |

#### ğŸª„ Method(LightShadow)

| Method | Props | Return | Note |
| :-- | :-- | :-- | :-- |
| getFrameExtents | () | Vector2 | ëª¨ë“  View Pointë¥¼ í¬í•¨í•˜ë„ë¡ ê·¸ë¦¼ì ë§µì„ í™•ì¥í•˜ê¸° ìœ„í•´ ë Œë”ëŸ¬ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. |
| updateMatrices | ( light : Light ) | undefined | ë Œë”ëŸ¬ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¹´ë©”ë¼ ë° ê·¸ë¦¼ìì˜ í–‰ë ¬ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. |
| getFrustum | () | Frustum | ê·¸ë¦¼ì ì¹´ë©”ë¼ ì ˆë‘ì²´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ë Œë”ëŸ¬ê°€ ë‚´ë¶€ì ìœ¼ë¡œ `cull objects`ì„ ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤. |
| getViewportCount | () | number | ì´ ê·¸ë¦¼ìì— ëŒ€í•´ ë Œë”ë§í•´ì•¼ í•˜ëŠ” ViewPort ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ë Œë”ëŸ¬ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. |
| dispose | () | undefined | ì´ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í• ë‹¹í•œ GPU ê´€ë ¨ ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•©ë‹ˆë‹¤.ì´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì•±ì—ì„œ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šì„ ë•Œë§ˆë‹¤ ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. |
| copy | ( source : LightShadow ) | this | ì†ŒìŠ¤ì˜ ëª¨ë“  ì†ì„± ê°’ì„ ì´ Lightì— ë³µì‚¬í•©ë‹ˆë‹¤. |
| clone | () | LightShadow | ì´ì™€ ë™ì¼í•œ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ LightShadowë¥¼ ë§Œë“­ë‹ˆë‹¤. |
| toJSON | () | Object | ì´ ê·¸ë¦¼ìë¥¼ json íŒŒì‹±í•©ë‹ˆë‹¤. |

<details>
<summary>ğŸš€ ì°¸ê³  ì‚¬ì´íŠ¸</summary>

---
| Three.js ê³µì‹ ì‚¬ì´íŠ¸ | Three.js ê¹ƒí—ˆë¸Œ|
| :--: | :--: |
| [![image](https://threejs.org/files/share.png)](https://threejs.org/docs/#api/en/lights/shadows/LightShadow) | [![image](https://repository-images.githubusercontent.com/576201/6c52fa00-6238-11eb-8763-f36f6e226bba)](https://github.com/mrdoob/three.js/blob/master/src/lights/LightShadow.js) |
|ğŸ”— Link : <https://threejs.org/docs/#api/en/lights/shadows/LightShadowa> | ğŸ”— Link : <https://github.com/mrdoob/three.js/blob/master/src/lights/LightShadow.js> |

</details>

## ğŸ“” Shadow ì¢…ë¥˜

| ëª…ì¹­ | ëª¨ì–‘ | ì´ë¯¸ì§€ |
| :-- | :-- | :-- |
| [PointLightShadow](#ğŸ“-pointlightshadow) | PointLightì— ëŒ€í•œ ì‰ë„ìš° | ![image](./assets/PointLightShadow.gif) |
| [DirectionalLightShadow](#ğŸ“-directionallightshadow) | DirectionalLightì— ëŒ€í•œ ì‰ë„ìš° | ![image](./assets/DirectionalLightShadow.gif) |
| [SpotLightShadow](#ğŸ“-spotlightshadow) | SpotLightShadowì— ëŒ€í•œ ì‰ë„ìš° | ![image](./assets/SpotLightShadow.gif) |

> [!WARRING]  
> `Canvas`ì˜ shadow ì†ì„±ì„ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤

```jsx
 <Canvas shadows={?}>
```

| ì„¤ì • ê°’ | íš¨ê³¼ |
| :-- | :-- |
| boolean | ê·¸ë¦¼ì íš¨ê³¼ë¥¼ ì„¤ì •í• ì§€ ê²°ì • |
| "variance" | ê·¸ë¦¼ìì˜ íš¨ê³¼ë¥¼ ììœ ë¡­ê²Œ ì§€ì • |
| "basic"  | ê¸°ë³¸ ê·¸ë¦¼ì ì„¤ì • |
| "percentage" | ë¯¸ì‹¤í—˜ |
| "soft" " | ë¯¸ì‹¤í—˜ (ê·¸ë¦¼ìë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ë§Œë“¤ì–´ì¤Œ) |

### ğŸ“ PointLightShadow

PointLightì— ëŒ€í•œ ì‰ë„ìš°

### ğŸ‘€ Preview(PointLightShadow)

![image](./assets/PointLightShadow.gif)

#### ğŸ Code(PointLightShadow)

```js
import { LightShadow } from './LightShadow.js';
import { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';
import { Matrix4 } from '../math/Matrix4.js';
import { Vector2 } from '../math/Vector2.js';
import { Vector3 } from '../math/Vector3.js';
import { Vector4 } from '../math/Vector4.js';

const _projScreenMatrix = /*@__PURE__*/ new Matrix4();
const _lightPositionWorld = /*@__PURE__*/ new Vector3();
const _lookTarget = /*@__PURE__*/ new Vector3();

class PointLightShadow extends LightShadow {

    constructor() {

        super( new PerspectiveCamera( 90, 1, 0.5, 500 ) );
        this.isPointLightShadow = true;
        this._frameExtents = new Vector2( 4, 2 );
        this._viewportCount = 6;
        this._viewports = [
            // positive X
            new Vector4( 2, 1, 1, 1 ),
            // negative X
            new Vector4( 0, 1, 1, 1 ),
            // positive Z
            new Vector4( 3, 1, 1, 1 ),
            // negative Z
            new Vector4( 1, 1, 1, 1 ),
            // positive Y
            new Vector4( 3, 0, 1, 1 ),
            // negative Y
            new Vector4( 1, 0, 1, 1 )
        ];

        this._cubeDirections = [
            new Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),
            new Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )
        ];

        this._cubeUps = [
            new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),
            new Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ), new Vector3( 0, 0, - 1 )
        ];

    }

    updateMatrices( light, viewportIndex = 0 ) { }
}

export { PointLightShadow };
```

#### âœ¨ Constructor(PointLightShadow)

> [!NOTE]  
> PointLightë¥¼ ì°¸ì¡°í•˜ì—¬ ìƒì„±í•œë‹¤

#### ğŸ© Properties(PointLightShadow)

| Property | Type | Note |
| :-- | :-- | :-- |
| isPointLightShadow | Boolean | ì£¼ì–´ì§„ ê°ì²´ê°€ PointLightShadow ìœ í˜•ì¸ì§€ í™•ì¸í•˜ëŠ” ì½ê¸° ì „ìš© í”Œë˜ê·¸ì…ë‹ˆë‹¤. |

#### ğŸª„ Method(PointLightShadow)

| Method | Props | Return | Note |
| :-- | :-- | :-- | :-- |
| updateMatrices | ( light : Light, viewportIndex : number ) | undefined | ë Œë”ëŸ¬ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¹´ë©”ë¼ ë° ê·¸ë¦¼ìì˜ í–‰ë ¬ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. |

#### âš¡ï¸ Action(PointLightShadow)

```jsx
function MyPointLightShadow() {
    const { visible, color, intensity, distance, target, p_x, p_y, p_z } = useControls({
        PointLight: folder({
            visible: true,
            color: "#FFFFFF",
            intensity: { value: 10, min: 0, max: 100, step: 0.001 },
            distance: { value: 0, min: 0, max: 50, step: 0.001 },
            target: false,
            position: folder({
                p_x: { value: 0, min: -10, max: 10, step: 0.001 },
                p_y: { value: 2, min: -10, max: 10, step: 0.001 },
                p_z: { value: 0, min: -10, max: 10, step: 0.001 },
            }),
        })
    })

    const { size, bias, radius, far, blurSamples } = useControls({
        shadow: folder({
            far: { value: 0, min: 0, max: 100, step: 0.1 },
            size: { value: 1, min: 1, max: 10, step: 1 },
            bias: { value: -0.0001, min: -0.001, max: 0.001, step: 0.0001 },
            radius: { value: 4, min: 0, max: 64, step: 0.01 },
            // blurSamples: { value: 1, min: 0.001, max: 1, step: 0.0001 },
        }),
    })

    const light = useRef()
    const helper = useHelper(light, THREE.PointLightHelper, 0.5)

    useFrame((state) => {
        const myBall = state.scene.getObjectByName("myBall")
        if (target)
            myBall.children[0].getWorldPosition(light.current.position)
        if (helper)
            helper.current.visible = visible ? true : false
    }, [])
    
    return (
        <>
            <pointLight
                castShadow
                ref={light}
                shadow-camera-visible={visible}
                shadow-mapsize={[512 * size, 512 * size]}
                shadow-bias={bias}
                shadow-radius={radius}
                shadow-camera-far={far}
                // shadow-blurSamples={blurSamples}
                visible={visible}
                color={color}
                intensity={intensity}
                position={[p_x, p_y, p_z]}
            />
        </>
    )
}
```

### ğŸ“ DirectionalLightShadow

DirectionalLightì— ëŒ€í•œ ì‰ë„ìš°

### ğŸ‘€ Preview(DirectionalLightShadow)

![image](./assets/DirectionalLightShadow.gif)

#### ğŸ Code(DirectionalLightShadow)

```js
import { LightShadow } from './LightShadow.js';
import { OrthographicCamera } from '../cameras/OrthographicCamera.js';

class DirectionalLightShadow extends LightShadow {

    constructor() {
        super( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );
        this.isDirectionalLightShadow = true;
    }

}

export { DirectionalLightShadow };
```

#### âœ¨ Constructor(DirectionalLightShadow)

> [!NOTE]  
> DirectionalLightë¥¼ ì°¸ì¡°í•˜ì—¬ ìƒì„±í•œë‹¤

#### ğŸ© Properties(DirectionalLightShadow)

| Property | Type | Note |
| :-- | :-- | :-- |
| isDirectionalLightShadow | Boolean | ì£¼ì–´ì§„ ê°ì²´ê°€ isDirectionalLightShadow ìœ í˜•ì¸ì§€ í™•ì¸í•˜ëŠ” ì½ê¸° ì „ìš© í”Œë˜ê·¸ì…ë‹ˆë‹¤. |

#### ğŸª„ Method(DirectionalLightShadow)

> [!NOTE]  
> LightShadowë¥¼ ë”°ë¦„ë‹ˆë‹¤.

#### âš¡ï¸ Action(DirectionalLightShadow)

```jsx

function MyDirectionalLightShadow() {
    const { visible, color, intensity, target } = useControls({
        DirectionalLight: folder({
            visible: true,
            color: "#FFFFFF",
            intensity: { value: 1, min: 0, max: 1, step: 0.001 },
            target: false,
        }),
    })
    const { top, right, left, bottom, size, bias, radius, far, blurSamples } = useControls({
        shadow: folder({
            far: { value: 20, min: 0, max: 30, step: 0.1 },
            left: { value: 3, min: -10, max: 10, step: 0.001 },
            right: { value: -3, min: -10, max: 10, step: 0.001 },
            top: { value: 3, min: -10, max: 10, step: 0.001 },
            bottom: { value: -3, min: -10, max: 10, step: 0.001 },
            size: { value: 1, min: 1, max: 10, step: 1 },
            bias: { value: 0.0001, min: 0.001, max: 0.01, step: 0.0001 },
            radius: { value: 1, min: 0, max: 16, step: 0.01 },
            // blurSamples: { value: 1, min: 0.001, max: 1, step: 0.0001 },
        }),
    })



    const light = useRef()
    const shadow = useRef()
    const { scene } = useThree()
    const helper = useHelper(light, THREE.DirectionalLightHelper)

    useFrame((state) => {
        const myBall = state.scene.getObjectByName("myBall")
        if (target)
            myBall.children[0].getWorldPosition(light.current.target.position)
        if (helper)
            helper.current.visible = visible ? true : false
    }, [])

    useEffect(() => {
        shadow.current = new THREE.CameraHelper(light.current.shadow.camera)
        scene.add(shadow.current)
        return (
            () => {
                scene.remove(shadow.current)
            }
        )
    }, [light.current, shadow.current])

    return (
        <>
            <directionalLight
                ref={light}
                shadow-camera-visible={visible}
                shadow-camera-top={top}
                shadow-camera-left={left}
                shadow-camera-bottom={bottom}
                shadow-camera-right={right}
                shadow-mapsize={[512 * size, 512 * size]}
                shadow-bias={bias}
                shadow-radius={radius}
                shadow-camera-far={far}
                // shadow-blurSamples={blurSamples}
                castShadow
                visible={visible}
                color={color}
                intensity={intensity}
                position={[0, 3, 0]}
            />
        </>
    )
}

```

### ğŸ“ SpotLightShadow

SpotLightì— ëŒ€í•œ ì‰ë„ìš°

### ğŸ‘€ Preview(SpotLightShadow)

![image](./assets/SpotLightShadow.gif)

#### ğŸ Code(SpotLightShadow)

```js
import { LightShadow } from './LightShadow.js';
import * as MathUtils from '../math/MathUtils.js';
import { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';

class SpotLightShadow extends LightShadow {

    constructor() {
        super( new PerspectiveCamera( 50, 1, 0.5, 500 ) );
        this.isSpotLightShadow = true;
        this.focus = 1;
    }

    updateMatrices( light ) { }

    copy( source ) { }

}

export { SpotLightShadow };
```

#### âœ¨ Constructor(SpotLightShadow)

> [!NOTE]  
> PointLightë¥¼ ì°¸ì¡°í•˜ì—¬ ìƒì„±í•œë‹¤

#### ğŸ© Properties(SpotLightShadow)

| Property | Type | Note |
| :-- | :-- | :-- |
| focus | Number | ê·¸ë¦¼ì ì¹´ë©”ë¼ì˜ ì´ˆì ì„ ë§ì¶”ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì¹´ë©”ë¼ì˜ ì‹œì•¼ëŠ” ìŠ¤í¬íŠ¸ë¼ì´íŠ¸ ì‹œì•¼ì˜ ë°±ë¶„ìœ¨ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ë²”ìœ„ëŠ” [0, 1]ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 1.0ì…ë‹ˆë‹¤. |
| isPointLightShadow | Boolean | ì£¼ì–´ì§„ ê°ì²´ê°€ PointLightShadow ìœ í˜•ì¸ì§€ í™•ì¸í•˜ëŠ” ì½ê¸° ì „ìš© í”Œë˜ê·¸ì…ë‹ˆë‹¤. |

#### ğŸª„ Method(SpotLightShadow)

> [!NOTE]  
> LightShadowë¥¼ ë”°ë¦„ë‹ˆë‹¤.

#### âš¡ï¸ Action(SpotLightShadow)

```jsx

function MySpotLightShadow() {
    const { visible, color, intensity, distance, angle, penumbra, decay, target, p_x, p_y, p_z } = useControls({
        SpotLight: folder({
            visible: false,
            color: "#FFFFFF",
            intensity: { value: 100, min: 0, max: 100, step: 0.001 },
            distance: { value: 20, min: 0, max: 50, step: 0.001 },
            angle: { value: Math.PI / 4, min: 0, max: Math.PI / 2, step: 0.001 },
            penumbra: { value: 0, min: 0, max: 1, step: 0.001 },
            decay: { value: 2, min: 0, max: 10, step: 0.001 },
            target: false,
            position: folder({
                p_x: { value: 0, min: -10, max: 10, step: 0.001 },
                p_y: { value: 6, min: -10, max: 10, step: 0.001 },
                p_z: { value: 0, min: -10, max: 10, step: 0.001 },
            }),
        })
    })

    const { size, bias, radius, far, blurSamples } = useControls({
        shadow: folder({
            far: { value: 0, min: 0, max: 100, step: 0.1 },
            size: { value: 1, min: 1, max: 10, step: 1 },
            bias: { value: -0.0001, min: -0.001, max: 0.001, step: 0.0001 },
            radius: { value: 4, min: 0, max: 64, step: 0.01 },
            // blurSamples: { value: 1, min: 0.001, max: 1, step: 0.0001 },
        }),
    })

    const light = useRef()
    const helper = useHelper(light, THREE.SpotLightHelper)

    useFrame((state) => {
        const myBall = state.scene.getObjectByName("myBall")
        if (target)
            myBall.children[0].getWorldPosition(light.current.target.position)
        if (helper)
            helper.current.visible = visible ? true : false
    }, [])
    
    return (
        <>
            <spotLight
                castShadow
                shadow-camera-visible={visible}
                shadow-mapsize={[512 * size, 512 * size]}
                shadow-bias={bias}
                shadow-radius={radius}
                shadow-camera-far={far}
                visible={visible}
                ref={light}
                color={color}
                intensity={intensity}
                distance={distance}
                angle={angle}
                penumbra={penumbra}
                decay={decay}
                position={[p_x, p_y, p_z]}
            />
        </>
    )
}

```

â—€ï¸ ì´ì „ ê¸€ : [ğŸ“ ê°•ì˜ ë¦¬ë·° Camera](./RM_11.md)
---
â–¶ï¸ ë‹¤ìŒ ê¸€ : [ğŸ“ ê°•ì˜ ë¦¬ë·° Shadow 2](./RM_13.md)
---
